<!DOCTYPE html>
<html>
    <head>
    </head>
    
    <body>
        <h1>Dane z zewnÄ…trz</h1>
        <form action="#" method="POST">
            <p>First name: <span data-bind='text: firstName'></span></p>
            <p>Last name: <span data-bind='text: lastName'></span></p>
            <p>Email: <span data-bind='text: email'></span></p>
            <p>Phone number: <span data-bind='text: phoneNumber'></span></p>
            <p>Address: <span data-bind='text: address'></span></p>
            <p>City: <span data-bind='text: city'></span></p>
            <p>Zipp: <span data-bind='text: zipp'></span></p>
            <button data-bind='saveUserData'>Zapisz dane</button>
        </form>

        <script src="https://cdnjs.cloudflare.com/ajax/libs/knockout/3.5.1/knockout-latest.js" type="text/javascript"></script>
        <script src="https://code.jquery.com/jquery-3.5.1.js" integrity="sha256-QWo7LDvxbWT2tbbQ97B53yJnYU3WhH/C8ycbRAkjPDc=" crossorigin="anonymous"></script>
        <script src="knockout.mapping-latest.js"></script>

        <script type="text/javascript">

            var viewModel = {
                firstName = ko.observable(),
                lastName = ko.observable(),
                email = ko.observable(),
                phoneNumber = ko.observable(),
                address = ko.observable(),
                city = ko.observable(),
                zipp = ko.observable()
            }
                // self.saveUserData = function() {
                //     var data_to_send = {userData: ko.toJSON(self)};
                //     $.post("https://localhost:44329/api/Contact/CreateContact", data_to_send, function(data) {
                //         alert("Saved data in server")
                //     })
                // }

            $.getJSON("https://localhost:44329/api/Contact/GetContact?id=7", function(data) {
                var viewModel = ko.mapping.fromJS(data, viewModel);
                ko.applyBindings(viewModel);
            });

        </script>
    </body>

</html>